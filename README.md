# Curve Subdivision

## Чертаене на крива
Алгоритъма е следния:
1. Разделяме рекурсивно кривата на две, докато не стигнем максимална дълбочина
2. Ограждаме кривата с bounding box. Обхождаме всички точки и оцветяваме тези от кривата.
3. Нека построим мислена права през първата контролна точка и нейната нормала. Тестваме
точката, така че да се намира в полупостронаство на кривата. Прилагаме същия тест за
последната контролна точка. Игнорираме всичко, което не мине теста.
4. За всеки останал пиксел от bbox-a определяме разстоянието до кривата.
5. Използваме smoothstep между два радиуса, за да реализираме anti-aliasing. Част от
пикселите ще са твърде далече и няма да оцветим нищо.

За да реализираме стъпка 4:
- Да разгледаме правата между първата и последната контролна точка.
- Решаваме същия проблем за правата. Намираме параметър t.
- Понеже кривата е малка, я апроксимираме с правата. Предполагаме, че t е също параметъра,
за който кривата се доближава най-много до пиксела.
- Намираме точката, съответстваща на t, и изчисляваме разстоянието до пиксела

## Какво има на екрана

Виждат се:
- контролните точки с нормера
- кривата, изрисувана с гореописания алгоритъм
- действието на алгоритъма при ограничена дълбочина. Вместо стъпки 3-5 директно чертаем
правата между първата и последната контролна точка
- bounding box-a на тези прави.

## Управляване

- 'а' добавя нова точка върху курсура ('add').
- 'd' премаха точката върху курсура ('delete').
- 'b' удебелява bounding box-овете ('bold').
- 'w' премахва/връща bbox-овете ('wiremesh').
- 's' скрива/показва как ще изглежда крайната кривата ('shadow').
- mwheel контролира дълбочината на алгоритъма. При максимална дълбочина се показва
единствено крайната крива.
- левия бутон позволява местене на контролните точки.
